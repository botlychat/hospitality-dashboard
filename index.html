<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Admin Dashboard — Hospitality Booking</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	<!-- Extracted & Organized CSS Files -->
	<link rel="stylesheet" href="css/variables.css">
	<link rel="stylesheet" href="css/global.css">
	<link rel="stylesheet" href="css/responsive.css">
	<link rel="stylesheet" href="css/profile.css">
	<link rel="stylesheet" href="css/index.css">
		</head>
<body>
	<div class="app">
		<aside class="sidebar">
			<div class="brand"><div class="logo">RG</div><h1>Riyadh Getaways</h1></div>
			<nav>
				<div class="nav-item active" data-section="dashboard"><i class="fa-solid fa-gauge"></i> <span data-i18n="dashboard">Dashboard</span></div>
			<div class="nav-item" data-link="calendar.html"><i class="fa-regular fa-calendar"></i> <span data-i18n="calendar">Calendar</span></div>
			<div class="nav-item" data-link="units.html"><i class="fa-solid fa-building"></i> <span data-i18n="units">Units</span></div>
				<div class="nav-item" data-section="website"><i class="fa-solid fa-globe"></i> <span data-i18n="website">Website Settings</span></div>
			</nav>
			<div class="sidebar-footer">© <strong>Riyadh Getaways</strong><br>Admin Dashboard</div>
		</aside>

		<main class="main">
			<header class="header">
				<div class="left">
					<div style="font-weight:700;font-size:16px" id="headerTitle" data-i18n="dashboard">Dashboard</div>
				</div>
				<div style="display:flex;align-items:center;gap:12px">
					<div class="search"><i class="fa-solid fa-magnifying-glass" style="color:var(--muted)"></i> <input placeholder="Search bookings, units, clients..." data-i18n-placeholder="searchPlaceholder" style="border:none;outline:none;margin-left:8px;font-size:14px;width:250px"></div>
					<div class="profile" id="profileBtn" tabindex="0">
						<div style="text-align:right;margin-right:8px;font-size:13px"><div style="font-weight:700" data-i18n="admin">Admin</div><div style="font-size:12px;color:var(--muted)">riyadh@getaways</div></div>
						<div class="avatar">A</div>
						<div class="profile-menu" id="profileMenu">
							<button id="profileSettings" data-i18n="completeProfile">Complete Profile</button>
							<button id="changePassword" data-i18n="changePassword">Change Password</button>
							<button id="changeEmail" data-i18n="changeEmail">Change Email</button>
							<div style="border-top:1px solid #e5e7eb;padding:8px 0;margin:8px 0">
								<button id="langEnglish" style="width:50%;padding:8px;border:none;background:transparent;text-align:center;cursor:pointer;font-size:13px;border-right:1px solid #e5e7eb;font-weight:600;color:#f97316">English</button>
								<button id="langArabic" style="width:50%;padding:8px;border:none;background:transparent;text-align:center;cursor:pointer;font-size:13px;color:#64748b">العربية</button>
							</div>
							<button id="logoutBtn" data-i18n="logout">Logout</button>
						</div>
					</div>
				</div>
			</header>

			<section class="content">
				<!-- DASHBOARD TAB -->
				<div id="dashboardTab" class="tab-section active">
					<div>
						<div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
							<div style="display:flex;flex-direction:column">
								<h2 style="margin:0" data-i18n="overview">Overview</h2>
								<div style="color:var(--muted);font-size:13px" data-i18n="summaryToday">Summary for today</div>
							</div>
							<div class="actions">
								<button class="btn ghost" id="refreshBtn"><i class="fa-solid fa-rotate-right"></i> <span data-i18n="refresh">Refresh</span></button>
								<button class="btn primary" id="newBookingBtn"><i class="fa-solid fa-plus"></i> <span data-i18n="newManualBooking">New Manual Booking</span></button>
							</div>
						</div>

									<div class="kpis" style="margin-top:16px">
										<div class="kpi">
											<div class="icon"><i class="fa-solid fa-chart-line"></i></div>
											<div class="label" data-i18n="occupancyRate">Occupancy Rate</div>
											<div class="value" id="kpiOccupancy">75%</div>
											<div class="meta" data-i18n="currentOccupancy">Current occupancy (units)</div>
										</div>
										<div class="kpi">
											<div class="icon"><i class="fa-solid fa-sack-dollar"></i></div>
											<div class="label" data-i18n="monthlyRevenue">Monthly Revenue</div>
											<div class="value" id="kpiRevenue">$15,400</div>
											<div class="meta" data-i18n="estimatedMonth">Estimated this month</div>
										</div>
						</div>

						<div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:16px">
							<div class="panel">
								<h3 data-i18n="recentBookings">Recent Bookings</h3>
								<table aria-label="Recent bookings">
									<thead><tr><th data-i18n="client">Client</th><th data-i18n="unit">Unit</th><th data-i18n="dates">Dates</th><th data-i18n="status">Status</th></tr></thead>
									<tbody id="recentBookings">
										<!-- placeholder rows added by JS -->
									</tbody>
								</table>
							</div>

							<div class="panel">
								<h3 data-i18n="todayUnitStatus">Today's Unit Status</h3>
								<div class="unit-list" id="unitStatus">
									<!-- units populated by JS -->
								</div>
							</div>
						</div>

						<div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:16px">
							<div class="panel">
								<h3 data-i18n="weeklyOccupancyRate">Weekly Occupancy Rate</h3>
								<table aria-label="Weekly occupancy">
									<thead><tr><th data-i18n="unit">Unit</th><th>%</th><th data-i18n="daysBooked">Days Booked</th></tr></thead>
									<tbody id="weeklyOccupancy">
										<!-- populated by JS -->
									</tbody>
								</table>
							</div>

							<div class="panel">
								<h3 data-i18n="weeklyIncome">Weekly Income</h3>
								<table aria-label="Weekly income">
									<thead><tr><th data-i18n="unit">Unit</th><th data-i18n="income">Income</th><th data-i18n="bookings">Bookings</th></tr></thead>
									<tbody id="weeklyIncome">
										<!-- populated by JS -->
									</tbody>
								</table>
							</div>
						</div>
					</div>

					<aside>
						<div class="panel">
							<h3 data-i18n="quickActions">Quick Actions</h3>
							<div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
								<button class="btn primary" onclick="location.href='calendar.html'" data-i18n="openCalendar">Open Calendar</button>
								<button class="btn ghost" onclick="switchSection('website')" data-i18n="websiteSettings">Website Settings</button>
								<button class="btn ghost" onclick="location.href='units.html'" data-i18n="manageUnits">Manage Units</button>
							</div>
						</div>
					</aside>
				</div>

				<!-- WEBSITE SETTINGS TAB -->
				<div id="websiteTab" class="tab-section">
					<div>
						<h2 style="margin-top:0" data-i18n="websiteSettings">Website Settings</h2>
						<div class="panel">
							<h3><i class="fa-solid fa-image"></i> <span data-i18n="homePagePicture">Home Page Picture</span></h3>
							<div style="margin-top:12px">
								<div class="form-group">
									<label data-i18n="uploadHomePicture">Upload Home Picture</label>
									<input type="file" id="homePictureUpload" accept="image/*" style="padding:8px;border:2px dashed var(--accent);border-radius:8px">
									<div id="homePicturePreview"></div>
								</div>
								<button class="btn primary" onclick="saveHomePicture()" style="margin-top:8px"><i class="fa-solid fa-floppy-disk"></i> <span data-i18n="savePicture">Save Picture</span></button>
							</div>
						</div>

						<div class="panel" style="margin-top:16px">
							<h3><i class="fa-solid fa-palette"></i> <span data-i18n="websiteThemeColor">Website Theme Color</span></h3>
							<div style="margin-top:12px">
								<p style="font-size:13px;color:var(--muted)" data-i18n="selectThemeColor">Select your preferred theme color for the website:</p>
								<div style="display:flex;gap:12px;align-items:center;margin-bottom:12px">
									<div style="display:flex;gap:8px;align-items:center;flex:1">
										<label style="font-weight:600;font-size:13px">Color:</label>
										<input type="color" id="websiteColorPicker" style="width:50px;height:50px;border:none;border-radius:8px;cursor:pointer">
										<div id="colorDisplay" style="width:50px;height:50px;border:2px solid #e5e7eb;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:11px;color:#fff;background:#f97316;font-weight:600"></div>
									</div>
								</div>
								<div style="display:flex;gap:8px;margin-bottom:12px">
									<input type="text" id="colorCodeInput" placeholder="#f97316" maxlength="7" style="flex:1;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;font-size:13px;font-family:monospace">
									<button class="btn primary" id="applyWebsiteColorBtn" style="margin:0"><i class="fa-solid fa-check"></i> Apply</button>
								</div>
								<button class="btn primary" onclick="saveThemeColor()" style="width:100%"><i class="fa-solid fa-floppy-disk"></i> <span data-i18n="saveTheme">Save Theme</span></button>
							</div>
						</div>

						<div class="panel" style="margin-top:16px">
							<h3><i class="fa-solid fa-sliders"></i> <span data-i18n="generalSettings">General Settings</span></h3>
							<div style="margin-top:12px">
								<div class="form-group">
									<label data-i18n="websiteTitle">Website Title</label>
									<input type="text" value="Riyadh Getaways" placeholder="Website title">
								</div>
								<div class="form-group">
									<label data-i18n="websiteDescription">Website Description</label>
									<textarea placeholder="Short description of your business">Premium chalets and apartments in Riyadh</textarea>
								</div>
								<div class="form-group">
									<label data-i18n="contactEmail">Contact Email</label>
									<input type="email" value="info@riyadhgetaways.com" placeholder="Contact email">
								</div>
								<div class="form-group">
									<label data-i18n="contactPhone">Contact Phone</label>
									<input type="tel" value="+966-11-XXXX-XXXX" placeholder="Contact phone">
								</div>
								<button class="btn primary" onclick="showConfirmation('Settings saved (simulated)')"><i class="fa-solid fa-floppy-disk"></i> <span data-i18n="saveSettings">Save Settings</span></button>
							</div>
						</div>
					</div>

					<aside>
						<div class="panel">
							<h3 data-i18n="preview">Preview</h3>
							<div style="margin-top:12px;padding:16px;border-radius:8px;background:#f3f4f6;text-align:center">
								<div style="font-weight:600;margin-bottom:8px" data-i18n="themePreview">Theme Preview</div>
								<div id="colorPreview" style="width:100%;height:60px;border-radius:8px;background-color:#ec4899;transition:background-color .3s"></div>
								<div style="margin-top:8px;font-size:12px;color:var(--muted)" data-i18n="themeAppearance">This is how your theme will look</div>
							</div>
						</div>
					</aside>
				</div>

				<!-- ALL RESERVATIONS TAB -->
				<div id="reservationsTab" class="tab-section" style="display:none">
				</div>

				<!-- REPORTS TAB -->
				<div id="reportsTab" class="tab-section" style="display:none">
				</div>

			</section>
		</main>
	</div>

	<!-- Modals -->
	<div class="modal-backdrop" id="modalBackdrop">
		<div class="modal" role="dialog" aria-modal="true" id="modalContent">
			<!-- content injected by JS -->
		</div>
	</div>

	<!-- Profile Completion Modal Template -->
	<template id="completeProfileTpl">
		<h3 data-i18n="completeProfile">Complete Your Profile</h3>
		<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px">
			<div class="form-group">
				<label data-i18n="chaletName">Chalet/Commercial Name</label>
				<input id="cpChaletName" placeholder="Business name" value="Riyadh Getaways">
			</div>
			<div class="form-group">
				<label data-i18n="regNumber">Commercial Registration Number</label>
				<input id="cpRegNumber" placeholder="e.g., 1010234567">
			</div>
			<div class="form-group">
				<label data-i18n="license">Ministry of Tourism License</label>
				<input id="cpLicense" placeholder="License number">
			</div>
			<div class="form-group">
				<label data-i18n="adminEmail">Admin Email</label>
				<input id="cpEmail" type="email" value="admin@riyadhgetaways.com">
			</div>
		</div>
		<div class="modal-actions">
			<button class="btn ghost" onclick="closeModal()" data-i18n="cancel">Cancel</button>
			<button class="btn primary" id="confirmProfileBtn" data-i18n="saveProfile">Save Profile</button>
		</div>
	</template>

	<!-- Change Password Modal Template -->
	<template id="changePasswordTpl">
		<h3 data-i18n="changePassword">Change Password</h3>
		<div style="display:flex;flex-direction:column;gap:10px;margin-top:8px">
			<div class="form-group">
				<label data-i18n="currentPassword">Current Password</label>
				<input type="password" id="cpOldPassword" placeholder="Enter current password">
			</div>
			<div class="form-group">
				<label data-i18n="newPassword">New Password</label>
				<input type="password" id="cpNewPassword" placeholder="Enter new password">
			</div>
			<div class="form-group">
				<label data-i18n="confirmPassword">Confirm New Password</label>
				<input type="password" id="cpConfirmPassword" placeholder="Confirm new password">
			</div>
		</div>
		<div class="modal-actions">
			<button class="btn ghost" onclick="closeModal()" data-i18n="cancel">Cancel</button>
			<button class="btn primary" id="confirmPasswordBtn" data-i18n="changePasswordBtn">Change Password</button>
		</div>
	</template>

	<!-- Change Email Modal Template -->
	<template id="changeEmailTpl">
		<h3 data-i18n="changeEmail">Change Email Address</h3>
		<div style="display:flex;flex-direction:column;gap:10px;margin-top:8px">
			<div class="form-group">
				<label data-i18n="currentEmail">Current Email</label>
				<input type="email" id="ceCurrentEmail" disabled value="admin@riyadhgetaways.com">
			</div>
			<div class="form-group">
				<label data-i18n="newEmail">New Email</label>
				<input type="email" id="ceNewEmail" placeholder="Enter new email address">
			</div>
			<div class="form-group">
				<label data-i18n="passwordConfirmation">Password Confirmation</label>
				<input type="password" id="cePassword" placeholder="Enter your password">
			</div>
		</div>
		<div class="modal-actions">
			<button class="btn ghost" onclick="closeModal()" data-i18n="cancel">Cancel</button>
			<button class="btn primary" id="confirmEmailBtn" data-i18n="changeEmailBtn">Change Email</button>
		</div>
	</template>

	<!-- Booking details modal template (hidden) -->
	<template id="bookingDetailsTpl">
		<h3 data-i18n="bookingDetails">Booking Details</h3>
		<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px">
			<div><strong data-i18n="clientName">Client Name</strong><div id="bdClient">—</div></div>
			<div><strong data-i18n="phone">Phone</strong><div id="bdPhone">—</div></div>
			<div><strong data-i18n="unit">Unit</strong><div id="bdUnit">—</div></div>
			<div><strong data-i18n="dates">Dates</strong><div id="bdDates">—</div></div>
			<div><strong data-i18n="paymentStatus">Payment Status</strong><div id="bdPayment">—</div></div>
			<div><strong data-i18n="bookingId">Booking ID</strong><div id="bdId">—</div></div>
		</div>
		<div class="modal-actions">
			<button class="btn ghost" onclick="closeModal()" data-i18n="close">Close</button>
			<button class="btn" style="background:#ef4444;color:#fff" id="cancelBookingBtn" data-i18n="cancelBooking">Cancel Booking</button>
		</div>
	</template>

	<!-- Add booking form template -->
	<template id="addBookingTpl">
		<h3 style="margin-bottom:20px;font-size:18px;color:#0f1729">Add New Reservation</h3>
		<div style="display:grid;gap:16px;margin-top:8px">
			<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Client Name *</label>
					<input id="abName" placeholder="Full name" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
				</div>
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Phone Number *</label>
					<input id="abPhone" placeholder="+966..." style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
				</div>
			</div>

			<div>
				<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Email Address</label>
				<input id="abEmail" type="email" placeholder="guest@example.com" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
			</div>

			<div>
				<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Unit *</label>
				<select id="abUnit" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
					<option value="">Select a unit</option>
				</select>
			</div>

			<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Check-in Date *</label>
					<input id="abStart" type="date" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
				</div>
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Check-out Date *</label>
					<input id="abEnd" type="date" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
				</div>
			</div>

			<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Nightly Rate ($) *</label>
					<input id="abRate" type="number" placeholder="0.00" min="0" step="0.01" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
				</div>
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Total Amount ($)</label>
					<input id="abTotal" type="text" placeholder="0.00" disabled style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit;background:#f3f4f6;color:#6b7280">
				</div>
			</div>

			<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Payment Status *</label>
					<select id="abPayment" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
						<option value="Paid">Paid</option>
						<option value="Pending">Pending</option>
						<option value="Partial">Partial Payment</option>
					</select>
				</div>
				<div>
					<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Paid Amount ($)</label>
					<input id="abPaid" type="number" placeholder="0.00" min="0" step="0.01" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit">
				</div>
			</div>

			<div>
				<label style="font-weight:600;font-size:13px;color:#475569;display:block;margin-bottom:6px">Special Requests / Notes</label>
				<textarea id="abNotes" placeholder="Any special requests or additional notes..." style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:13px;font-family:inherit;resize:vertical;min-height:80px"></textarea>
			</div>

			<div style="background:#f0f9ff;border:1px solid #bfdbfe;border-radius:10px;padding:12px;margin-top:8px">
				<div style="display:flex;justify-content:space-between;align-items:center;font-size:14px;font-weight:600;color:#0f1729">
					<span>Summary:</span>
					<span><strong id="abSummary">0 nights × $0.00 = $0.00</strong></span>
				</div>
			</div>
		</div>
		<div class="modal-actions" style="margin-top:20px">
			<button class="btn ghost" onclick="closeModal()">Cancel</button>
			<button class="btn primary" id="confirmAddBooking">Create Reservation</button>
		</div>
	</template>

	<!-- Block dates template -->
	<template id="blockDatesTpl">
		<h3>Block Dates</h3>
		<div style="display:grid;gap:8px;margin-top:8px">
			<label>Unit <select id="bdUnitSelect" style="width:100%;padding:8px;border:1px solid #eee;border-radius:8px"></select></label>
			<div style="display:flex;gap:8px"><label style="flex:1">Start <input id="bdStart" type="date" style="width:100%;padding:8px;border:1px solid #eee;border-radius:8px"></label><label style="flex:1">End <input id="bdEnd" type="date" style="width:100%;padding:8px;border:1px solid #eee;border-radius:8px"></label></div>
			<label>Reason <select id="bdReason" style="width:100%;padding:8px;border:1px solid #eee;border-radius:8px"><option>Maintenance</option><option>Owner Stay</option><option>Cleaning</option></select></label>
		</div>
		<div class="modal-actions">
			<button class="btn ghost" onclick="closeModal()">Cancel</button>
			<button class="btn primary" id="confirmBlock">Block Unit</button>
		</div>
	</template>
	<!-- Extracted JavaScript Files -->
	<script src="js/utils.js"></script>
	<script src="js/components.js"></script>
	<script src="js/components/profile.js"></script>
	<script src="lib/supabase-client.js"></script>
</body>
</html>

